{"_id":"v9NuSf56QxM5vOxF","name":"Modify alignment points","permission":{"default":0},"type":"script","sort":100001,"flags":{},"scope":"global","command":"let d = new Dialog({\n  title: 'Modify actor alignment',\n  content: `<h2>How much should you modify?</h2><form><label>Quantity<input name=\"value\" type=\"number\" placeholder=\"5\" /></label></form>`,\n  buttons: {\n      no: {\n          icon: '<i class=\"fas fa-ban\"></i>',\n          label: 'Cancel'\n      },\n      yes: {\n          icon: '<i class=\"fas fa-thumbs-up\"></i>',\n          label: 'Modify',\n          callback: (html) => {\n              main(html);\n          }\n      },\n  },\n  default: 'no',\n}).render(true);\n\nasync function main(html) {\n  const value = Number(html.find(\"form\").find('[name=\"value\"]').val());\n\n  if (!value) {\n    return;\n  }\n\n  for (let token of canvas.tokens.controlled) {\n    const newAlignment = game.sw5efoundry.domain.Alignment.computeAlignment({\n      original: token.actor.data.data.details.forceAlignment.value,\n      modifier: value\n    });\n\n    await token.actor.updateAlignment(newAlignment);\n  }\n}","author":"e7TQvuAZ89BXn8Uz","img":"icons/svg/dice-target.svg","actorIds":[]}
